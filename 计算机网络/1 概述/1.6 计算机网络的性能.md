## 计算机网络的性能指标

计算机网络的性能一般是指它的几个重要的性能指标，主要包括：

- 速率
- 带宽
- 吞吐率
- 时延
- 时延带宽积
- 往返时间 RTT
- 利用率

### 1\. 速率

- 比特（bit）是计算机中数据量的单位，也是信息论中使用的信息量的单位。一个比特就是二进制数字中的一个 1 或 0。
- 速率是计算机网络中最重要的一个性能指标，指的是<span style="color: #0000dd;">数据的传送速率</span>，它也称为<span style="color: #0000dd;">数据率</span> (data rate) 或<span style="color: #0000dd;">比特率</span> (bit rate)。
- 速率的<span style="color: #0000dd;">单位</span>是 bit/s，或 kbit/s、Mbit/s、 Gbit/s等。  
    例如4 × 10<sup>10</sup> bit/s 的数据率就记为 40 Gbit/s。
- <span style="color: #0000dd;">速率往往是指额定速率或标称速率，非实际运行速率</span>。

**常用的信息量单位**

- k=10<sup>3</sup>=千，M=10<sup>6</sup>=兆，G=10<sup>9</sup>=吉，T=10<sup>12</sup>=太，P=10<sup>15</sup>=拍，E=10<sup>18</sup>=艾，Z=10<sup>21</sup>=泽，Y=10<sup>24</sup>=尧
- 如，4*10<sup>10</sup>bit/s,数据率为40Gb/s，有时候说成“40G的速率”
- 请注意：在计算机界，K = 2<sup>10</sup> = 1024  
    M = 2<sup>20</sup>，G = 2<sup>30</sup>， T = 2<sup>40</sup>，P=2<sup>50</sup>，Z=2<sup>60</sup>，Y=2<sup>70</sup>

### 2\. 带宽

两种不同意义：

- “带宽”(bandwidth) 本来是指信号具有的<span style="color: #0000dd;">频带宽度</span>，其单位是赫（或千赫、兆赫、吉赫等）。
- 在计算机网络中，带宽用来表示网络中某通道传送数据的能力。表示在单位时间内网络中的某信道所能通过的“<span style="color: #0000dd;">最高数据率</span>”。单位是 bit/s，即 “比特每秒”。

**在“带宽”的上述两种表述中，前者为频域称谓，而后者为时域称谓，其本质是相同的。也就是说，一条通信链路的“带宽”越宽，其所能传输的“最高数据率”也越高。**

**数字信号流随时间的变化**

在<span style="color: #0000dd;">时间轴</span>上信号的宽度随带宽的增大而变窄。

![image-20200925134011639](https://gitee.com/ltzunan/images/raw/master/img/image-20200925134011639.png)

<span style="color: #dd0000;">简单地说，速率是一般值，带宽是峰值</span>

### 3\. 吞吐量

- 吞吐量 (throughput) 表示在单位时间内通过某个网络（或信道、接口）的数据量。
- 吞吐量更经常地用于对现实世界中的网络的一种测量，以便知道<span style="color: #0000dd;">实际上到底有多少数据量能够通过网络</span>。
- <span style="color: #0000dd;">吞吐量受网络的带宽或网络的额定速率的限制</span>。

### 4\. 时延

- 时延 (delay 或 latency) 是指数据（一个报文或分组，甚至比特）从网络（或链路）的一端传送到另一端所需的时间。
- 有时也称为<span style="color: #0000dd;">延迟</span>或迟延。
- 网络中的时延由以下几个不同的部分组成：
    1.  发送时延
    2.  传播时延
    3.  处理时延
    4.  排队时延

1.  <span style="color: #0000dd;">发送时延</span>
    - 也称为<span style="color: #0000dd;">传输时延</span>。
    - 发送数据时，数据帧从结点进入到传输媒体所需要的时间。
    - 也就是从发送数据帧的第一个比特算起，到该帧的最后一个比特发送完毕所需的时间。

$$
发送时延=\frac{数据帧长度（bit）}{发送速率（bit/s）}
$$

2.  <span style="color: #0000dd;">传播时延</span>  
    电磁波在信道中需要传播一定的距离而花费的时间。  
    <span style="color: #0000dd;">发送时延与传播时延有本质上的不同。</span>  
    信号<span style="color: #0000dd;">发送速率</span>和信号在信道上的<span style="color: #0000dd;">传播速率</span>是<span style="color: #0000dd;">完全不同</span>的概念。

$$
传播时延=\frac{信道长度（米）}{信号在信道上的传播速率（米/秒）}
$$

3.  <span style="color: #0000dd;">处理时延</span>
    - 主机或路由器在收到分组时，为处理分组（例如分析首部、提取数据、差错检验或查找路由）所花费的时间。
4.  <span style="color: #0000dd;">排队时延</span>
    - 分组在路由器输入输出队列中<span style="color: #0000dd;">排队等待处理</span>所经历的时延。
    - <span style="color: #0000dd;">排队时延的长短往往取决于网络中当时的通信量</span>。

- 数据在网络中经历的总时延就是发送时延、传播时延、处理时延和排队时延<span style="color: #0000dd;">之和</span>。

$$
总时延=发送时延+传播时延+处理时延+排队时延
$$

**必须指出，在总时延中，究竟是哪一种时延占主导地位，必须具体分析。**

**四种时延所产生的地方**

<span style="color: #0000dd;">假设从结点 A 向结点 B 发送数据</span>

![image-20200925134036402](https://gitee.com/ltzunan/images/raw/master/img/image-20200925134036402.png)

* * *

**在总时延中哪一种时延占主导地位？**

- 例如：假设有一个长度100MB的数据，在带宽1Mb/s的信道上连续发送。（暂时不考虑处理时延和排队时延）
  
    发送时延=100\*2<sup>20</sup>\*8/10<sup>6</sup>=838.9s
    
    如果在100km的**光纤**上传送，传播时延=100/(2*10<sup>5</sup>)=5ms
    
    总时延基本可以由<span style="color: #dd0000;">发送时延</span>来决定。
    
- 例如：发送1个字节数据，在1Mb/s带宽上，
  
    发送时延=8/10<sup>6</sup>=8\*10<sup>-6</sup>=8µs（微秒）
    
    如果传送举例是1000KM,传播时延=5ms（毫秒）
    
    总时延=5.008ms，基本可以由<span style="color: #dd0000;">传播时延</span>决定后。
    
- <span style="color: #dd0000;">电磁信号的传播速率取决于介质和信号频率，电磁波在真空中为3\*10<sup>8</sup>m/s，在光纤中2\*10<sup>8</sup>m/s，在铜线中为2.3\*10<sup>8</sup>m/s。</span>
  
- <span style="color: #dd0000;">不能笼统地说：“数据的发送速率越高，传送的就越快！”</span>

* * *

**容易产生的错误概念**

- 对于高速网络链路，我们提高的仅仅是数据的<span style="color: #0000dd;">发送速率</span>而不是比特在链路上的<span style="color: #0000dd;">传播速率</span>。
- 提高链路带宽减小了数据的发送时延。

以下说法是<span style="color: #dd0000;">错误</span>的：  
“<span style="color: #dd0000;">在高速链路（或高带宽链路）上，比特会传送得更快些</span>”

### 5\. 时延带宽积

- 链路的时延带宽积又称为<span style="color: #0000dd;">以比特为单位的链路长度</span>。

$$
时延带宽积=传播时延\times带宽
$$

![image-20200925134054610](https://gitee.com/ltzunan/images/raw/master/img/image-20200925134054610.png)

- 链路上充满的比特数与带宽和延迟的关系：

![image-20200925134118923](https://gitee.com/ltzunan/images/raw/master/img/image-20200925134118923.png)

### 6\. 往返时间

- 互联网上的信息不仅仅单方向传输，而是双向交互的。因此，有时很需要知道双向交互一次所需的时间。
- <span style="color: #0000dd;">往返时间 RTT</span> (round-trip time) 表示从发送方发送数据开始，到发送方收到来自接收方的确认，总共经历的时间。
- 在互联网中，往返时间还包括<span style="color: #0000dd;">各中间结点</span>的处理时延、排队时延以及转发数据时的发送时延。
- <span style="color: #0000dd;">当使用卫星通信时，往返时间 RTT 相对较长，是很重要的一个性能指标。</span>

### 7\. 利用率

- 分为<span style="color: #0000dd;">信道利用率</span>和<span style="color: #0000dd;">网络利用率</span>。
- 信道利用率指出某信道有百分之几的时间是被利用的（有数据通过）。
- 完全空闲的信道的利用率是零。
- <span style="color: #0000dd;">网络利用率</span>则是全网络的信道利用率的加权平均值。
- 信道利用率<span style="color: #0000dd;">并非越高越好</span>。当某信道的利用率增大时，该信道引起的时延也就迅速增加。

**时延与网络利用率的关系**

- 根据排队论的理论，当某信道的利用率增大时，该信道引起的时延也就迅速增加。
- 若令 D<sub>0</sub> 表示网络空闲时的时延，D 表示网络当前的时延，则在适当的假定条件下，可以用下面的简单公式表示 D 和 D<sub>0</sub> 之间的关系：

$$
D=\frac{D_0}{1-U}
$$

**其中：U 是网络的利用率，数值在 0 到 1 之间。**

![image-20200925134153715](https://gitee.com/ltzunan/images/raw/master/img/image-20200925134153715.png)

<span style="color: #0000dd;">当信道的利用率增大时，该信道引起的时延迅速增加。</span>

## 1.6.2 计算机网络的非性能特征

一些非性能特征也很重要。它们与前面介绍的性能指标有很大的关系。主要包括：

- 费用
- 质量
- 标准化
- 可靠性
- 可扩展性和可升级性
- 易于管理和维护